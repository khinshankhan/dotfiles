#+STARTUP: overview
#+PRIORITIES: A D B

** TODO [#C] Python

   A reasonable guess.

   #+begin_src emacs-lisp
(use-package pip-requirements
  :mode
  ("requirements\\.txt" . pip-requirements-mode)
  :init
  (shan/copy-hooks-to text-mode-hook 'pip-requirements-mode-hook))
   #+end_src

   Remember to install pyls.

   #+begin_src emacs-lisp
(use-package python
  :if (executable-find "pyls")
  :straight nil
  :hook
  (python-mode . lsp)
  :custom
  (python-indent 4)
  (python-shell-interpreter shan/python-executable)
  ;; Required for MacOS, prevents newlines from being displayed as ^G
  (python-shell-interpreter-args (if (eq system-type 'darwin) "-c exec('__import__(\\'readline\\')') -i" "-i"))
  ;; (gud-pdb-command-name (concat shan/python-executable " -m pdb"))
  (python-fill-docstring-style 'pep-257)
  (py-split-window-on-execute t)
  :config
  (setq lsp-pyls-configuration-sources ["flake8" "pycodestyle"]
        lsp-pyls-plugins-flake8-enabled t
        lsp-pyls-plugins-pyflakes-enabled nil
        lsp-pyls-plugins-pydocstyle-enabled t
        lsp-pyls-plugins-mccabe-enabled nil)
  (shan--ide-add 'python-mode #'hydra-lsp/body))
   #+end_src

   #+begin_src emacs-lisp
(use-package dap-python
  :straight nil
  :after dap-mode
  :custom
  (dap-python-executable shan/python-executable))
   #+end_src
