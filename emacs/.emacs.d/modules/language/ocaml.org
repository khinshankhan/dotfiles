#+STARTUP: overview
#+PRIORITIES: A D B

** OCaml

   #+begin_src emacs-lisp
(use-package tuareg
  :if (and (executable-find "ocaml")
           (executable-find "npm")
           t)
  :after (lsp)
  :hook
  (tuareg-mode . lsp)
  :mode
  (("\\.ml[ip]?\\'"                           . tuareg-mode)
   ("\\.mly\\'"                               . tuareg-menhir-mode)
   ("[./]opam_?\\'"                           . tuareg-opam-mode)
   ("\\(?:\\`\\|/\\)jbuild\\(?:\\.inc\\)?\\'" . tuareg-jbuild-mode)
   ("\\.eliomi?\\'"                           . tuareg-mode))
  :custom
  (tuareg-match-patterns-aligned t)
  (tuareg-indent-align-with-first-arg t)
  :config
  (shan--ide-add 'tuareg-mode #'hydra-lsp/body))
   #+end_src
